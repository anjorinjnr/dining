var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:'<img src="assets/img/up.png" style="width:51px; height:42px" />',controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport)this.$control.css({opacity:0});var e=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);if(typeof e=="string"&&jQuery("#"+e).length==1)e=jQuery("#"+e).offset().top;else e=0;this.$body.animate({scrollTop:e},this.setting.scrollduration)},keepfixed:function(){var e=jQuery(window);var t=e.scrollLeft()+e.width()-this.$control.width()-this.controlattrs.offsetx;var n=e.scrollTop()+e.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:t+"px",top:n+"px"})},togglecontrol:function(){var e=jQuery(window).scrollTop();if(!this.cssfixedsupport)this.keepfixed();this.state.shouldvisible=e>=this.setting.startline?true:false;if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]);this.state.isvisible=true}else if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]);this.state.isvisible=false}},init:function(){jQuery(document).ready(function(e){var t=scrolltotop;var n=document.all;t.cssfixedsupport=!n||n&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest;t.$body=window.opera?document.compatMode=="CSS1Compat"?e("html"):e("body"):e("html,body");t.$control=e('<div id="topcontrol">'+t.controlHTML+"</div>").css({position:t.cssfixedsupport?"fixed":"absolute",bottom:t.controlattrs.offsety,right:t.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Scroll Back to Top"}).click(function(){t.scrollup();return false}).appendTo("body");if(document.all&&!window.XMLHttpRequest&&t.$control.text()!="")t.$control.css({width:t.$control.width()});t.togglecontrol();e('a[href="'+t.anchorkeyword+'"]').click(function(){t.scrollup();return false});e(window).bind("scroll resize",function(e){t.togglecontrol()})})}};scrolltotop.init()